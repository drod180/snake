{"version":3,"sources":["webpack/bootstrap e407a9c437c798e4b8ca","./lib/main.js","./lib/view.js","./lib/board.js","./lib/snake.js","./lib/coord.js","./lib/apple.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;;AAEA;AACA;AACA,EAAC;;;;;;;ACND;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA,kBAAiB,0BAA0B;AAC3C;AACA,oBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;;;;;;;ACtEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,kBAAiB,SAAS;AAC1B;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACxFA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACnBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e407a9c437c798e4b8ca\n **/","var SnakeView = require('./view.js');\n\n$d(function () {\n\n  var rootEl = $d('.snake-game');\n  new SnakeView(rootEl);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var Board = require(\"./board.js\");\n\nvar View = function ($el) {\n\tthis.$el = $el;\n\n\tthis.board = new Board(20);\n\tthis.$li = this.setupGrid();\n\n\tthis.intervalId = setInterval(\n\t\tthis.step.bind(this),\n\t\tView.GAME_SPEED\n\t);\n\n\t$d('body').on(\"keydown\", this.handleKeyEvent.bind(this));\n};\n\nView.GAME_SPEED = 100;\nView.KEYS = {\n\t38: \"N\",\n\t39: \"E\",\n\t40: \"S\",\n\t37: \"W\"\n};\n\nView.prototype.handleKeyEvent = function (event) {\n\tif (View.KEYS[event.keyCode]) {\n\t\tthis.board.snake.turn(View.KEYS[event.keyCode]);\n\t}\n};\n\nView.prototype.render = function () {\n\tthis.updateClasses(this.board.snake.segments, \"snake\");\n\tthis.updateClasses([this.board.apple.position], \"apple\");\n};\n\n\nView.prototype.setupGrid = function () {\n  var html = \"\";\n\n  for (var i = 0; i < this.board.dimension; i++) {\n    html += \"<ul>\";\n    for (var j = 0; j < this.board.dimension; j++) {\n      html += \"<li></li>\";\n    }\n    html += \"</ul>\";\n  }\n\n  this.$el.html(html);\n  return this.$el.find(\"li\");\n};\n\nView.prototype.step = function () {\n  if (this.board.snake.segments.length > 0) {\n    this.board.snake.move();\n    this.render();\n  } else {\n    alert(\"You lose!\");\n    window.clearInterval(this.intervalId);\n  }\n};\n\nView.prototype.updateClasses = function(coords, className) {\n\tthis.$li.filter(\".\" + className).removeClass(className);\n\n\tcoords.forEach(function(coord){\n\t\tvar flatCoord = (coord.x * this.board.dimension) + coord.y;\n\t\tthis.$li.equal(flatCoord).addClass(className);\n\t}.bind(this));\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/view.js\n ** module id = 1\n ** module chunks = 0\n **/","var Snake = require(\"./snake.js\");\nvar Apple = require(\"./apple.js\");\nvar Board = require(\"./board.js\");\n\nvar Board = function (dimension) {\n\tthis.dimension = dimension;\n\tthis.snake = new Snake(this);\n\tthis.apple = new Apple(this);\n};\n\nBoard.BLANK_SYMBOL = \".\";\n\nBoard.blankGrid = function (dim) {\n  var grid = [];\n\n  for (var i = 0; i < dim; i++) {\n    var row = [];\n    for (var j = 0; j < dim; j++) {\n      row.push(Board.BLANK_SYMBOL);\n    }\n    grid.push(row);\n  }\n\n  return grid;\n};\n\nBoard.prototype.render = function () {\n  var grid = Board.blankGrid(this.dim);\n\n  this.snake.segments.forEach(function (segment) {\n    grid[segment.i][segment.j] = Snake.SYMBOL;\n  });\n\n  grid[this.apple.position.i][this.apple.position.j] = Apple.SYMBOL;\n\n  var rowStrs = [];\n  grid.map(function (row) {\n    return row.join(\"\");\n  }).join(\"\\n\");\n};\n\nBoard.prototype.validPosition = function (coord) {\n  return (coord.i >= 0) && (coord.i < this.dim) &&\n    (coord.j >= 0) && (coord.j < this.dim);\n};\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/board.js\n ** module id = 2\n ** module chunks = 0\n **/","var Coord = require(\"./coord.js\");\n\nvar _directions = {\n\t\"N\": new Coord(-1, 0),\n\t\"E\": new Coord(0, 1),\n\t\"S\": new Coord(0, 1),\n\t\"W\": new Coord(-1, 0)\n};\n\nvar Snake = function (board) {\n\tthis.direction = \"S\";\n\n\tvar center = new Coord(Math.floor(board.dim/2), Math.floor(board.dim/2));\n\tthis.segments = [center];\n\t\n\tthis.turning = false;\n\tthis.board = board;\n\n\tthis.growTurns = 0;\n};\n\nSnake.GROW_TURNS = 3;\nSnake.SYMBOL = \"S\";\n\nSnake.prototype.eatApple = function () {\n  if (this.head().equals(this.board.apple.position)) {\n    this.growTurns += 3;\n    return true;\n  } else {\n    return false;\n  }\n};\n\nSnake.prototype.head = function () {\n  return this.segments[this.segments.length - 1];\n};\n\nSnake.prototype.isOccupying = function (array) {\n  var result = false;\n  this.segments.forEach(function (segment) {\n    if (segment.i === array[0] && segment.j === array[1]) {\n      result = true;\n      return result;\n    }\n  });\n  return result;\n};\n\nSnake.prototype.isValid = function () {\n  var head = this.head();\n\n  if (!this.board.validPosition(this.head())) {\n    return false;\n  }\n\n  for (var i = 0; i < this.segments.length - 1; i++) {\n    if (this.segments[i].equals(head)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nSnake.prototype.move = function () {\n  this.segments.push(this.head().plus(_directions[this.direction]));\n\n  this.turning = false;\n\n  if (this.eatApple()) {\n    this.board.apple.replace();\n  }\n\n  if (this.growTurns > 0) {\n    this.growTurns -= 1;\n  } else {\n    this.segments.shift();\n  }\n\n  if (!this.isValid()) {\n    this.segments = [];\n  }\n};\n\nSnake.prototype.turn = function (dir) {\n\tthis.direction = dir;\n};\n\nmodule.exports = Snake;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/snake.js\n ** module id = 3\n ** module chunks = 0\n **/","var Coord = function (x, y) {\n\tthis.x = x;\n\tthis.y = y;\n};\n\n\nCoord.prototype.plus = function (coord) {\n\treturn new Coord(this.x + coord.x, this.y + coord.y);\n};\n\nCoord.prototype.equals = function (coord) {\n\treturn (this.x === coord.x && this.y === coord.y);\n\n};\n\nCoord.prototype.isOpposite = function (coord) {\n\treturn (this.x === coord.y && this.y === coord.y);\n};\n\nmodule.exports = Coord;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/coord.js\n ** module id = 4\n ** module chunks = 0\n **/","var Coord = require(\"./coord.js\");\n\nvar Apple = function (board) {\n  this.board = board;\n  this.position = this.replace();\n};\n\nApple.prototype.replace = function () {\n  var x = Math.floor(Math.random() * this.board.dimension);\n  var y = Math.floor(Math.random() * this.board.dimension);\n\n  // Don't place an apple where there is a snake\n  while (this.board.snake.isOccupying([x, y])) {\n    x = Math.floor(Math.random() * this.board.dimension);\n    y = Math.floor(Math.random() * this.board.dimension);\n  }\n\n  return new Coord(x, y);\n};\n\nmodule.exports = Apple;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/apple.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}